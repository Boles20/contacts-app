<div class="container vh-100 d-flex justify-content-center align-items-center">
  <div class="col-md-6">
    <form #form="ngForm" (ngSubmit)="addOrUpdateContact(form)">
      <div *ngIf="errorMessage" class="alert alert-danger">
        {{ errorMessage }}
      </div>

      <div class="form-group">
        <label for="name">Name</label>
        <input
          type="text"
          id="name"
          class="form-control"
          name="name"
          [(ngModel)]="contact.name"
          required
          placeholder="Name"
        />
      </div>

      <div class="form-group">
        <label for="phone">Phone Number</label>
        <input
          type="text"
          id="phone"
          class="form-control"
          name="phone"
          [(ngModel)]="contact.phone"
          required
          placeholder="Phone Number"
          [ngClass]="{ 'is-invalid': isPhoneInvalid() }"
        />
        <div *ngIf="isPhoneInvalid()" class="invalid-feedback">
          Please enter a valid phone number (e.g., +201123456789).
        </div>
      </div>

      <div class="form-group">
        <label for="address">Address</label>
        <input
          type="text"
          id="address"
          class="form-control"
          name="address"
          [(ngModel)]="contact.address"
          placeholder="Address"
        />
      </div>

      <div class="form-group">
        <label for="notes">Notes</label>
        <textarea
          id="notes"
          class="form-control"
          name="notes"
          [(ngModel)]="contact.notes"
          placeholder="Notes"
        ></textarea>
      </div>

      <button type="submit" class="btn btn-primary" [disabled]="isLoading">
        {{ contact._id ? "Update" : "Add" }} Contact
      </button>

      <div *ngIf="isLoading" class="spinner-border text-primary" role="status">
        <span class="sr-only">Loading...</span>
      </div>
    </form>
  </div>
</div>
